<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8-Bit Sprite Generator - Type Trainer Pets</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            background: #1a1a1a;
            color: #ffffff;
            margin: 0;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            color: #00ff00;
            margin-bottom: 30px;
        }
        
        .generator-section {
            background: #2a2a2a;
            border: 2px solid #00ff00;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .sprite-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        
        .sprite-frame {
            width: 64px;
            height: 64px;
            border: 2px solid #00ff00;
            background: #000000;
            cursor: crosshair;
            position: relative;
        }
        
        .sprite-frame:hover {
            border-color: #ffff00;
        }
        
        .pixel {
            width: 4px;
            height: 4px;
            position: absolute;
            border: none;
            cursor: pointer;
        }
        
        .controls {
            display: flex;
            gap: 20px;
            align-items: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .color-palette {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .color-option {
            width: 30px;
            height: 30px;
            border: 2px solid #fff;
            cursor: pointer;
            border-radius: 4px;
        }
        
        .color-option.selected {
            border-color: #ffff00;
            transform: scale(1.1);
        }
        
        button {
            background: #00ff00;
            color: #000;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-family: inherit;
            font-weight: bold;
        }
        
        button:hover {
            background: #00dd00;
        }
        
        .export-section {
            background: #1a1a1a;
            border: 2px solid #0088ff;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .download-btn {
            background: #0088ff;
            color: #fff;
            margin-right: 10px;
        }
        
        .download-btn:hover {
            background: #0066cc;
        }
        
        .instructions {
            background: #333;
            border: 1px solid #666;
            border-radius: 4px;
            padding: 15px;
            margin: 20px 0;
            line-height: 1.6;
        }
        
        .frame-label {
            text-align: center;
            font-size: 12px;
            color: #00ff00;
            margin-top: 5px;
        }
        
        .animation-row {
            margin-bottom: 30px;
        }
        
        .row-title {
            color: #ffff00;
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üêæ 8-Bit Sprite Generator for Type Trainer Pets</h1>
        
        <div class="instructions">
            <h3>How to Use:</h3>
            <ol>
                <li><strong>Select a color</strong> from the palette below</li>
                <li><strong>Click on pixels</strong> in the sprite frames to draw</li>
                <li><strong>Create 4 frames</strong> for each animation type (Idle, Walk Left, Walk Right, Happy, Sad)</li>
                <li><strong>Export your sprite sheet</strong> as a PNG file</li>
                <li><strong>Save it</strong> in the <code>/public/sprites/</code> folder with the correct name</li>
            </ol>
        </div>
        
        <div class="generator-section">
            <h2>üé® Sprite Generator</h2>
            
            <div class="controls">
                <div>
                    <label>Selected Color:</label>
                    <div id="selectedColor" style="width: 30px; height: 30px; border: 2px solid #fff; background: #ffffff; display: inline-block; vertical-align: middle;"></div>
                </div>
                
                <div class="color-palette">
                    <div class="color-option selected" data-color="#ffffff" style="background: #ffffff;"></div>
                    <div class="color-option" data-color="#000000" style="background: #000000;"></div>
                    <div class="color-option" data-color="#ff0000" style="background: #ff0000;"></div>
                    <div class="color-option" data-color="#00ff00" style="background: #00ff00;"></div>
                    <div class="color-option" data-color="#0000ff" style="background: #0000ff;"></div>
                    <div class="color-option" data-color="#ffff00" style="background: #ffff00;"></div>
                    <div class="color-option" data-color="#ff00ff" style="background: #ff00ff;"></div>
                    <div class="color-option" data-color="#00ffff" style="background: #00ffff;"></div>
                    <div class="color-option" data-color="#ffa500" style="background: #ffa500;"></div>
                    <div class="color-option" data-color="#800080" style="background: #800080;"></div>
                    <div class="color-option" data-color="#a52a2a" style="background: #a52a2a;"></div>
                    <div class="color-option" data-color="#808080" style="background: #808080;"></div>
                </div>
                
                <button onclick="clearAll()">Clear All</button>
                <button onclick="fillRandom()">Random Fill</button>
            </div>
            
            <!-- Idle Animation Row -->
            <div class="animation-row">
                <div class="row-title">üîÑ Idle Animation (Frames 0-3)</div>
                <div class="sprite-grid">
                    <div class="sprite-frame" data-frame="0">
                        <div class="frame-label">Frame 0</div>
                    </div>
                    <div class="sprite-frame" data-frame="1">
                        <div class="frame-label">Frame 1</div>
                    </div>
                    <div class="sprite-frame" data-frame="2">
                        <div class="frame-label">Frame 2</div>
                    </div>
                    <div class="sprite-frame" data-frame="3">
                        <div class="frame-label">Frame 3</div>
                    </div>
                </div>
            </div>
            
            <!-- Walk Left Animation Row -->
            <div class="animation-row">
                <div class="row-title">‚¨ÖÔ∏è Walk Left Animation (Frames 4-7)</div>
                <div class="sprite-grid">
                    <div class="sprite-frame" data-frame="4">
                        <div class="frame-label">Frame 4</div>
                    </div>
                    <div class="sprite-frame" data-frame="5">
                        <div class="frame-label">Frame 5</div>
                    </div>
                    <div class="sprite-frame" data-frame="6">
                        <div class="frame-label">Frame 6</div>
                    </div>
                    <div class="sprite-frame" data-frame="7">
                        <div class="frame-label">Frame 7</div>
                    </div>
                </div>
            </div>
            
            <!-- Walk Right Animation Row -->
            <div class="animation-row">
                <div class="row-title">‚û°Ô∏è Walk Right Animation (Frames 8-11)</div>
                <div class="sprite-grid">
                    <div class="sprite-frame" data-frame="8">
                        <div class="frame-label">Frame 8</div>
                    </div>
                    <div class="sprite-frame" data-frame="9">
                        <div class="frame-label">Frame 9</div>
                    </div>
                    <div class="sprite-frame" data-frame="10">
                        <div class="frame-label">Frame 10</div>
                    </div>
                    <div class="sprite-frame" data-frame="11">
                        <div class="frame-label">Frame 11</div>
                    </div>
                </div>
            </div>
            
            <!-- Happy Animation Row -->
            <div class="animation-row">
                <div class="row-title">üòä Happy Animation (Frames 12-15)</div>
                <div class="sprite-grid">
                    <div class="sprite-frame" data-frame="12">
                        <div class="frame-label">Frame 12</div>
                    </div>
                    <div class="sprite-frame" data-frame="13">
                        <div class="frame-label">Frame 13</div>
                    </div>
                    <div class="sprite-frame" data-frame="14">
                        <div class="frame-label">Frame 14</div>
                    </div>
                    <div class="sprite-frame" data-frame="15">
                        <div class="frame-label">Frame 15</div>
                    </div>
                </div>
            </div>
            
            <!-- Sad Animation Row -->
            <div class="animation-row">
                <div class="row-title">üò¢ Sad Animation (Frames 16-19)</div>
                <div class="sprite-grid">
                    <div class="sprite-frame" data-frame="16">
                        <div class="frame-label">Frame 16</div>
                    </div>
                    <div class="sprite-frame" data-frame="17">
                        <div class="frame-label">Frame 17</div>
                    </div>
                    <div class="sprite-frame" data-frame="18">
                        <div class="frame-label">Frame 18</div>
                    </div>
                    <div class="sprite-frame" data-frame="19">
                        <div class="frame-label">Frame 19</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="export-section">
            <h2>üíæ Export Sprite Sheet</h2>
            <p>Click the button below to download your sprite sheet as a PNG file:</p>
            <button class="download-btn" onclick="exportSpriteSheet()">Download Sprite Sheet (PNG)</button>
            <button onclick="previewSpriteSheet()">Preview Sprite Sheet</button>
            
            <div id="preview" style="margin-top: 20px; text-align: center;"></div>
        </div>
    </div>

    <script>
        let selectedColor = '#ffffff';
        let spriteData = {};
        
        // Initialize sprite frames
        function initializeSpriteFrames() {
            const frames = document.querySelectorAll('.sprite-frame');
            frames.forEach(frame => {
                const frameIndex = frame.dataset.frame;
                spriteData[frameIndex] = Array(16).fill().map(() => Array(16).fill('#000000'));
                
                // Create pixel grid (16x16 pixels, each 4x4 CSS pixels)
                for (let y = 0; y < 16; y++) {
                    for (let x = 0; x < 16; x++) {
                        const pixel = document.createElement('div');
                        pixel.className = 'pixel';
                        pixel.style.left = (x * 4) + 'px';
                        pixel.style.top = (y * 4) + 'px';
                        pixel.style.backgroundColor = '#000000';
                        
                        pixel.addEventListener('click', () => {
                            pixel.style.backgroundColor = selectedColor;
                            spriteData[frameIndex][y][x] = selectedColor;
                        });
                        
                        frame.appendChild(pixel);
                    }
                }
            });
        }
        
        // Color selection
        document.querySelectorAll('.color-option').forEach(option => {
            option.addEventListener('click', () => {
                document.querySelectorAll('.color-option').forEach(opt => opt.classList.remove('selected'));
                option.classList.add('selected');
                selectedColor = option.dataset.color;
                document.getElementById('selectedColor').style.backgroundColor = selectedColor;
            });
        });
        
        // Clear all frames
        function clearAll() {
            Object.keys(spriteData).forEach(frameIndex => {
                spriteData[frameIndex] = Array(16).fill().map(() => Array(16).fill('#000000'));
            });
            
            document.querySelectorAll('.pixel').forEach(pixel => {
                pixel.style.backgroundColor = '#000000';
            });
        }
        
        // Fill with random colors
        function fillRandom() {
            const colors = ['#ffffff', '#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff'];
            Object.keys(spriteData).forEach(frameIndex => {
                for (let y = 0; y < 16; y++) {
                    for (let x = 0; x < 16; x++) {
                        const randomColor = colors[Math.floor(Math.random() * colors.length)];
                        spriteData[frameIndex][y][x] = randomColor;
                    }
                }
            });
            
            // Update visual display
            document.querySelectorAll('.sprite-frame').forEach((frame, frameIndex) => {
                const pixels = frame.querySelectorAll('.pixel');
                pixels.forEach((pixel, pixelIndex) => {
                    const y = Math.floor(pixelIndex / 16);
                    const x = pixelIndex % 16;
                    pixel.style.backgroundColor = spriteData[frameIndex][y][x];
                });
            });
        }
        
        // Export sprite sheet
        function exportSpriteSheet() {
            const canvas = document.createElement('canvas');
            canvas.width = 128; // 4 frames * 32 pixels
            canvas.height = 160; // 5 rows * 32 pixels
            const ctx = canvas.getContext('2d');
            
            // Fill with transparent background
            ctx.clearRect(0, 0, 128, 160);
            
            // Draw each frame
            Object.keys(spriteData).forEach(frameIndex => {
                const frameNum = parseInt(frameIndex);
                const row = Math.floor(frameNum / 4);
                const col = frameNum % 4;
                const x = col * 32;
                const y = row * 32;
                
                // Draw pixels (scale up 2x from 16x16 to 32x32)
                for (let py = 0; py < 16; py++) {
                    for (let px = 0; px < 16; px++) {
                        const color = spriteData[frameIndex][py][px];
                        if (color !== '#000000') { // Skip black pixels (transparent)
                            ctx.fillStyle = color;
                            ctx.fillRect(x + (px * 2), y + (py * 2), 2, 2);
                        }
                    }
                }
            });
            
            // Download
            const link = document.createElement('a');
            link.download = 'sprite-sheet.png';
            link.href = canvas.toDataURL();
            link.click();
        }
        
        // Preview sprite sheet
        function previewSpriteSheet() {
            const canvas = document.createElement('canvas');
            canvas.width = 128;
            canvas.height = 160;
            const ctx = canvas.getContext('2d');
            
            ctx.clearRect(0, 0, 128, 160);
            
            // Draw grid
            ctx.strokeStyle = '#00ff00';
            ctx.lineWidth = 1;
            for (let i = 0; i <= 4; i++) {
                ctx.beginPath();
                ctx.moveTo(0, i * 32);
                ctx.lineTo(128, i * 32);
                ctx.stroke();
            }
            for (let i = 0; i <= 4; i++) {
                ctx.beginPath();
                ctx.moveTo(i * 32, 0);
                ctx.lineTo(i * 32, 160);
                ctx.stroke();
            }
            
            // Draw frames
            Object.keys(spriteData).forEach(frameIndex => {
                const frameNum = parseInt(frameIndex);
                const row = Math.floor(frameNum / 4);
                const col = frameNum % 4;
                const x = col * 32;
                const y = row * 32;
                
                for (let py = 0; py < 16; py++) {
                    for (let px = 0; px < 16; px++) {
                        const color = spriteData[frameIndex][py][px];
                        if (color !== '#000000') {
                            ctx.fillStyle = color;
                            ctx.fillRect(x + (px * 2), y + (py * 2), 2, 2);
                        }
                    }
                }
            });
            
            const preview = document.getElementById('preview');
            preview.innerHTML = '';
            preview.appendChild(canvas);
        }
        
        // Initialize when page loads
        window.addEventListener('load', initializeSpriteFrames);
    </script>
</body>
</html>
